#!/bin/bash

# Verifica se o número de argumentos é válido
if [ "$#" -ne 1 ]; then
    echo "Uso: $0 NUMERO"
    exit 1
fi

# Obtém o número de aliases a partir do primeiro argumento
num_aliases=$1

# Inicializa a variável para armazenar a consulta
query='{ "query": "query cop {'

# Loop para adicionar os aliases
for ((i=0; i<num_aliases; i++)); do
    # Adiciona o alias atual à consulta
    query="$query alias$i:__typename,"
done

# Remove a vírgula extra no final e adiciona o fechamento da consulta
query="${query%,} }\n"

# Adiciona o restante do JSON
query="$query\",\"variables\":{\"demarcheNumber\":42,\"includeDossiers\":true},\"operationName\":\"cop\"}"

# Imprime a consulta gerada
echo "$query"

